<!DOCTYPE html>
<html lang="tr">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>WOPR - Security System</title>
	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		body {
			background: #000;
			color: #0f0;
			font-family: 'Courier New', Courier, monospace;
			font-size: 18px;
			line-height: 1.5;
			padding: 20px;
			overflow: hidden;
		}

		#terminal {
			white-space: pre-wrap;
			word-wrap: break-word;
		}

		.cursor {
			display: inline-block;
			width: 10px;
			height: 20px;
			background: #0f0;
			animation: blink 1s infinite;
			margin-left: 2px;
		}

		@keyframes blink {

			0%,
			49% {
				opacity: 1;
			}

			50%,
			100% {
				opacity: 0;
			}
		}

		.input-line {
			display: none;
		}

		.input-line.active {
			display: inline;
		}

		#userInput {
			background: transparent;
			border: none;
			color: #0f0;
			font-family: 'Courier New', Courier, monospace;
			font-size: 18px;
			outline: none;
			width: 100%;
			caret-color: #0f0;
		}

		.scanline {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: linear-gradient(to bottom,
					transparent 0%,
					rgba(0, 255, 0, 0.02) 50%,
					transparent 100%);
			animation: scan 8s linear infinite;
			pointer-events: none;
			z-index: 1000;
		}

		@keyframes scan {
			0% {
				transform: translateY(-100%);
			}

			100% {
				transform: translateY(100%);
			}
		}

		.screen-flicker {
			animation: flicker 0.15s infinite;
		}

		@keyframes flicker {
			0% {
				opacity: 0.97;
			}

			50% {
				opacity: 1;
			}

			100% {
				opacity: 0.97;
			}
		}
	</style>
</head>

<body class="screen-flicker">
	<div class="scanline"></div>
	<div id="terminal"></div>
	<div class="input-line" id="inputLine">
		<input type="text" id="userInput" autofocus>
	</div>

	<script>
		const terminal = document.getElementById('terminal');
		const inputLine = document.getElementById('inputLine');
		const userInput = document.getElementById('userInput');

		let typingSpeed = 50;
		let lineDelay = 500;

		// Typing ses efekti (basit beep sesi)
		const audioContext = new (window.AudioContext || window.webkitAudioContext)();

		function playTypingSound() {
			const oscillator = audioContext.createOscillator();
			const gainNode = audioContext.createGain();

			oscillator.connect(gainNode);
			gainNode.connect(audioContext.destination);

			oscillator.frequency.value = 800;
			oscillator.type = 'square';

			gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
			gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.05);

			oscillator.start(audioContext.currentTime);
			oscillator.stop(audioContext.currentTime + 0.05);
		}

		// Terminal'e yazı yazdırma fonksiyonu (ses efekti ile)
		function typeText(text, delay = typingSpeed, withSound = true) {
			return new Promise(resolve => {
				let i = 0;
				const interval = setInterval(() => {
					if (i < text.length) {
						terminal.textContent += text[i];
						if (withSound && text[i] !== ' ') {
							playTypingSound();
						}
						i++;
						window.scrollTo(0, document.body.scrollHeight);
					} else {
						clearInterval(interval);
						resolve();
					}
				}, delay);
			});
		}

		// Yeni satır ekleme
		function newLine() {
			terminal.textContent += '\n';
		}

		// Bekleme fonksiyonu
		function wait(ms) {
			return new Promise(resolve => setTimeout(resolve, ms));
		}

		// Insert cursor yanıp sönme
		async function blinkInsert(times = 3) {
			for (let i = 0; i < times; i++) {
				terminal.textContent += '█';
				await wait(300);
				terminal.textContent = terminal.textContent.slice(0, -1);
				await wait(300);
			}
		}

		// Ekranı temizleme
		function clearScreen() {
			terminal.textContent = '';
		}

		// Random sistem mesajları
		const systemMessages = [
			'LOADING SYSTEM PARAMETERS...',
			'INITIALIZING DEFENSE NETWORK...',
			'CHECKING SECURITY PROTOCOLS...',
			'ACCESSING MAINFRAME DATABASE...',
			'VERIFYING CREDENTIALS...',
			'ESTABLISHING SECURE CONNECTION...',
			'LOADING ENCRYPTION MODULES...',
			'AUTHENTICATION IN PROGRESS...',
			'SYSTEM CHECK: OK',
			'FIREWALL STATUS: ACTIVE',
			'SECURITY LEVEL: MAXIMUM',
			'CONNECTION ESTABLISHED'
		];

		// Ana animasyon sırası
		async function startSequence() {
			// LOGIN: yazısı
			await typeText('LOGIN: ');
			await wait(1000);

			// Joshua yazılıyor
			await typeText('Joshua', 100);
			await wait(800);
			newLine();
			newLine();

			// Random sistem mesajları
			for (let i = 0; i < 8; i++) {
				const randomMsg = systemMessages[Math.floor(Math.random() * systemMessages.length)];
				await typeText(randomMsg);
				newLine();
				await wait(Math.random() * 300 + 200);
			}

			await wait(1000);
			newLine();
			await typeText('...');
			await wait(500);
			newLine();
			await typeText('...');
			await wait(500);
			newLine();
			newLine();

			// Ekranı temizle
			await wait(800);
			clearScreen();

			// Insert cursor yanıp sönsün
			await blinkInsert(3);

			// Greetings mesajı
			await typeText('GREETINGS PROFESSOR FALKEN.', 80);
			await wait(1000);
			newLine();
			newLine();

			// Input hattını göster (sadece cursor)
			inputLine.classList.add('active');
			userInput.focus();
		}

		// Kullanıcı input'u işleme
		userInput.addEventListener('keypress', async function (e) {
			if (e.key === 'Enter') {
				const input = this.value.trim();

				if (input === '') return;

				// Input'u terminale yazdır
				terminal.textContent += input;
				newLine();

				// Input alanını temizle ve gizle
				this.value = '';
				inputLine.classList.remove('active');

				await wait(500);

				// Basit komut işleme
				if (input.toLowerCase() === 'help' || input === '?') {
					await typeText('AVAILABLE COMMANDS:');
					newLine();
					await typeText('  HELP     - Display this message');
					newLine();
					await typeText('  STATUS   - System status');
					newLine();
					await typeText('  GAMES    - List available games');
					newLine();
					await typeText('  EXIT     - Exit system');
					newLine();
				} else if (input.toLowerCase() === 'status') {
					await typeText('SYSTEM STATUS: OPERATIONAL');
					newLine();
					await typeText('SECURITY LEVEL: MAXIMUM');
					newLine();
					await typeText('USER ACCESS: GRANTED');
					newLine();
				} else if (input.toLowerCase() === 'games') {
					await typeText('AVAILABLE GAMES:');
					newLine();
					await typeText('  1. CHESS');
					newLine();
					await typeText('  2. POKER');
					newLine();
					await typeText('  3. FIGHTER COMBAT');
					newLine();
					await typeText('  4. GUERRILLA WARFARE');
					newLine();
					await typeText('  5. DESERT WARFARE');
					newLine();
					await typeText('  6. GLOBAL THERMONUCLEAR WAR');
					newLine();
				} else if (input.toLowerCase() === 'exit') {
					await typeText('TERMINATING CONNECTION...');
					newLine();
					await wait(1000);
					await typeText('GOODBYE PROFESSOR.');
					await wait(1500);
					window.location.href = './';
					return;
				} else {
					await typeText('COMMAND NOT RECOGNIZED.');
					newLine();
					await typeText('TYPE "HELP" FOR AVAILABLE COMMANDS.');
					newLine();
				}

				newLine();

				// Input hattını tekrar göster
				inputLine.classList.add('active');
				userInput.focus();
			}
		});

		// Sayfa yüklendiğinde animasyonu başlat
		window.onload = () => {
			startSequence();
		};

		// Input her zaman focus'ta kalsın
		document.addEventListener('click', () => {
			userInput.focus();
		});

		// Konsol mesajı
		console.log('%cWOPR SYSTEM ACCESS', 'color: #0f0; font-size: 20px; font-family: monospace;');
		console.log('%cSHALL WE PLAY A GAME?', 'color: #0f0; font-size: 16px; font-family: monospace;');
	</script>
</body>

</html>